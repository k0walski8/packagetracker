<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Advanced Package Tracker (PL)</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <div class="container">
    <h1>Advanced Package Tracker (PL)</h1>
    <div class="grid">
      <section class="card">
        <h2>Dodaj przesyłkę</h2>
        <form id="add-form">
          <label>Przewoźnik
            <select id="carrier">
              <option value="inpost">InPost (paczkomat)</option>
              <option value="dhl">DHL (kurier)</option>
            </select>
          </label>
          <label>Numer śledzenia
            <input type="text" id="number" required placeholder="np. 1234567890">
          </label>
          <label>Etykieta (opcjonalnie)
            <input type="text" id="label" placeholder="np. Buty Zalando">
          </label>
          <button type="submit">Dodaj</button>
        </form>
      </section>

      <section class="card">
        <h2>Ustawienia</h2>
        <form id="settings-form">
          <label>Interwał odświeżania (minuty)
            <input type="number" min="1" id="poll_interval_minutes">
          </label>
          <fieldset>
            <legend>MQTT</legend>
            <label>Host <input type="text" id="mqtt_host" placeholder="np. core-mosquitto"></label>
            <label>Port <input type="number" id="mqtt_port" value="1883"></label>
            <label>Użytkownik <input type="text" id="mqtt_username"></label>
            <label>Hasło <input type="password" id="mqtt_password"></label>
            <label>Bazowy topic <input type="text" id="mqtt_base_topic" value="package_tracker"></label>
          </fieldset>
          <button type="submit">Zapisz</button>
        </form>
        <button id="poll-btn" class="secondary">Wymuś odświeżenie teraz</button>
      </section>
    </div>

    <section class="card">
      <h2>Twoje przesyłki</h2>
      <table id="pkgs-table">
        <thead>
          <tr><th>Id</th><th>Przewoźnik</th><th>Numer</th><th>Etykieta</th><th>Ostatni status</th><th>Podsumowanie</th><th>Aktualizacja</th><th>Usuń</th></tr>
        </thead>
        <tbody id="pkgs-body"></tbody>
      </table>
    </section>

    <footer>
      <small>MQTT Discovery tworzy encje dla każdego numeru (Detailed i Summary) oraz liczniki: <code>Courier packages arriving today</code> i <code>Parcel locker packages arriving today</code>.</small>
    </footer>
  </div>
  <script src="/static/app.js"></script>
</body>
</html>
